From 46d5d15384a10e9ece4b0ee34ec00d635c4651fe Mon Sep 17 00:00:00 2001
From: oltolm <oleg.tolmatcev@gmail.com>
Date: Sun, 16 Mar 2025 15:51:18 +0100
Subject: [PATCH] fix code for Clang 20

---
 .gitignore                                    | 2 ++
 include/mcl/memory/overaligned_unique_ptr.hpp | 3 ++-
 include/mcl/mp/typelist/lift_sequence.hpp     | 4 ++--
 3 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/.gitignore b/.gitignore
index 547b4ec..143e4b0 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,2 +1,4 @@
 *build*/
 .DS_Store
+.cache/
+compile_commands.json
diff --git a/include/mcl/memory/overaligned_unique_ptr.hpp b/include/mcl/memory/overaligned_unique_ptr.hpp
index 1e645ef..3ec5485 100644
--- a/include/mcl/memory/overaligned_unique_ptr.hpp
+++ b/include/mcl/memory/overaligned_unique_ptr.hpp
@@ -4,6 +4,7 @@
 
 #pragma once
 
+#include <memory>
 #include <type_traits>
 
 #ifdef _MSC_VER
@@ -36,7 +37,7 @@ auto make_overaligned_unique_ptr_array(size_t element_count)
 {
     const size_t min_size = element_count * sizeof(T);
     const size_t alloc_size = (min_size + alignment - 1) / alignment * alignment;
-#ifdef _MSC_VER
+#ifdef _WIN32
     return overaligned_unique_ptr<alignment, T[]>{static_cast<T*>(_aligned_malloc(alloc_size, alignment))};
 #else
     return overaligned_unique_ptr<alignment, T[]>{static_cast<T*>(std::aligned_alloc(alignment, alloc_size))};
diff --git a/include/mcl/mp/typelist/lift_sequence.hpp b/include/mcl/mp/typelist/lift_sequence.hpp
index ba2617b..99e1085 100644
--- a/include/mcl/mp/typelist/lift_sequence.hpp
+++ b/include/mcl/mp/typelist/lift_sequence.hpp
@@ -15,9 +15,9 @@ namespace detail {
 template<class VL>
 struct lift_sequence_impl;
 
-template<class T, template<class, T...> class VLT, T... values>
+template <template <class T, T...> class VLT, class T, T... values>
 struct lift_sequence_impl<VLT<T, values...>> {
-    using type = list<std::integral_constant<T, values>...>;
+  using type = list<std::integral_constant<T, values>...>;
 };
 
 }  // namespace detail
